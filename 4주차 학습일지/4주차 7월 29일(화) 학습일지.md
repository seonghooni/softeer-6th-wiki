# 1. 리뷰
## :laughing: 오늘 한 작업
### 1. CI/CD 자동화 파이프라인 구축

오늘은 본격적인 배포 전략 수립과 자동화 파이프라인 구축 작업에 집중했다.  
특히 Blue/Green 배포를 위한 구조 설계와 GitHub Actions + AWS CodeDeploy를 활용한 자동화에 집중했다.

짧은 개발 기간 동안 서비스 무중단 배포와 신속한 롤백이 가능하도록,
기본 배포 전략으로 Blue/Green 방식을 선택했다.

- blue: 기존에 서비스되고 있던 버전 (기본적으로 8081 포트)
- green: 새로운 버전의 컨테이너 (8082 포트)
- 배포 순서: green → health check → nginx reload → 기존 blue 종료

> 컨테이너 상태를 확인하고, 현재 떠 있는 컨테이너의 반대편을 빌드 & 실행한 뒤
헬스체크에 성공하면 nginx를 reload 하고 기존 컨테이너는 종료하는 구조이다.

```shell
# 예시
IS_GREEN=$(docker ps --format "{{.Names}}" | grep -w green)

if [ "$IS_GREEN" ]; then
  # green이 떠있다면 → blue를 새로 띄움
else
  # blue가 떠있다면 → green을 새로 띄움
fi
```

<br>

## :dizzy: 작업 과정에서 느낀점

### 🔹 배포 자동화는 빠른 개발의 중요한 초석이 될 것이다.
프로젝트가 길지는 않지만,
배포 환경의 안정성은 전체 개발의 속도를 결정짓는 핵심이라고 생각한다.
앞으로의 모든 배포가 이 파이프라인을 타게 될 것이므로,
초기 설정을 꼼꼼하게 하는 것이 중요하다고 느꼈다.


<br>

## :sob: 어려웠던 점

### 🔹 배포 과정에서의 고민과 의사결정
#### Blue/Green 구조는 과하진 않을까?
→ 프로젝트가 짧지만, 도중에 트래픽이 발생하거나 실시간 기능이 추가된다면
빠르고 안전한 배포 구조가 꼭 필요하다고 판단했다.

#### CodeDeploy를 활용한 배포 자동화는 너무 복잡하지 않을까?
→ 오히려 롤백 및 로그 추적이 쉬워지고, workflow에서의 상태 추적이 편리해
결과적으로 더 효율적인 방식이라는 확신이 들었다.

<br><br>

# 2. 회고 (KPT)

✅ **K – Keep (유지할 것)**
- 빠른 개발과 안정적인 운영이 가능한 방안에 대해 팀원과 지속적으로 공유하고, 최적의 대안을 도출하기


🛠️ **P – Problem (개선이 필요한 점)**
- 로그 및 알림 미흡하다는 점. (배포 실패 시 Slack 또는 메일 등의 실시간 알림이 없어 추적이 어려움. 추후 배포 로그 알림 연동이 필요하다)

🔄 **T – Try (시도할 것)**
- Slack 알림 연동 (GitHub Actions와 Slack을 연동해, 배포 성공/실패 여부를 실시간으로 팀원이 확인할 수 있도록 설정하기)


<br><br>
