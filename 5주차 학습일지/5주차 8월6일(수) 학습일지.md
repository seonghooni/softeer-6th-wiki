# 1. 리뷰
## :laughing: 오늘 한 작업
### 1. 팀 프로젝트 진행

#### 서비스 계층 코드 작성 및 오류 수정

오늘은 리뷰 작성하기 API를 작성했다.

이를 작성하기 위한 여러 도메인에 대한 Entity, Repository, Service, Exception 등 다양한 클래스를 작성하다보니 시간을 많이 사용했던 것 같다.

그 외에도, 팀원과 한 가지 작업에 대해 많은 고민을 했다.

> Repository와 Service 간의 책임이 명확하게 분리되지 않은 코드가 있는데 어떻게 할 것인지
> 쿼리를 작성할 때, JPA fetch join을 써서 한방 쿼리를 날릴지 or in 절을 이용하여 쿼리를 나눌지

Repository에서 필요한 필드만 조회하고, 이를 바탕으로 ResponseDto를 작성하는 코드가 모두 Repository 계층 내에 있었던 것 같다.

이 동작들에 대한 책임 분리가 명확하게 되지 않은 것 같아, 이 부분을 어떻게 처리해야 기존 코드도 리팩토링을 최소한으로 하고 책임 분리도 지킬 수 있을지에 대해 이야기를 오래 나누었던 것 같다.

우리는 결국 조회 전용 DTO인 `FlatDTO`를 도입하기로 결정했다.  

Repository 계층에서는 쿼리를 통해 필요한 필드만 담은 `FlatDTO`를 반환하고, 

Service 계층에서는 이 `FlatDTO`를 바탕으로 가공하여 최종 `ResponseDTO`를 구성하는 방식이다.

이로써 Repository는 데이터 접근에만 집중하고, Service는 응답 가공에 집중할 수 있게 되었다.

<br>

## :dizzy: 작업 과정에서의 배운 것

### 🔹 협업과 좋은 코드에 대한 가치관을 충분히 공유하자

오늘은 어제 회고에서 나왔던 고민을 바탕으로, 우리 팀의 소통 방식과 코드 품질 기준에 대해 함께 논의했다.

> 개발에 몰입하는 과정을 존중해 질문은 나중에 할 것인가,  
> 아니면 궁금한 점이나 피드백이 있을 때마다 바로 질문할 것인가?

우리는 결국 **궁금하거나 피드백이 있다면 그때그때 바로 소통하는 방식**을 선택했다.  
그 편이 오히려 서로의 맥락을 빠르게 공유하고, 더 나은 방향으로 함께 나아갈 수 있다고 판단했기 때문이다.

또한, 좋은 코드에 대한 기준을 어느 정도 맞춰두는 것이 필요하다는 데에도 의견을 모았다.
그중 가장 중요하게 여긴 것은 바로 다음 기준이다:

`책임 분리가 명확한 코드`를 작성하자

이 원칙 하나만큼은 반드시 지키자는 팀의 합의를 이끌어낼 수 있었고,  
앞으로의 개발에서도 이 기준을 바탕으로 의견을 나누고 코드를 개선해나갈 계획이다.

<br>

## :sob: 어려웠던 점

### 🔹 리팩토링과 기능 개발, 어떤 것이 우선일까?

기존에 작성했던 여러 코드가, 우리가 오늘 논의했던 내용(책임 분리)에서 크게 벗어난 것을 뒤늦게 파악했다.

이것을 리팩토링하려고 하니, 많은 시간을 소요할 것 같아  
리팩토링이 우선일지 일단 잘못된 코드는 그런대로 사용하고, 앞으로 남아있는 기능 개발에 집중할지 망설여지는 부분이 있었다.

이 지점에 대해 명확하게 결론을 내리지 못해 팀원과 오랜 이야기를 나누었고,

결국에는 FlatDTO 이름을 가진, 조회용DTO를 바탕으로 리팩토링을 진행하기로 했고, 앞으로의 개발도 같은 방식으로 진행하기로 하였다.

우리 프로젝트는 개발 기간이 한 달밖에 되지 않는다.

이 지점에서, 좋은 코드를 작성하는 것이 우선일지, 일단 서비스가 의도대로 동작하게 하는 것이 우선일지 너무 망설여졌다.

**좋지 않은 코드인 것을 알고 있으면서 방치하는 것이 내키지 않았기 때문이다.**

<br><br>

# 2. 회고 (KPT)

✅ **K – Keep (유지할 것)**
- 협업 방식에 대해 지속적으로 팀원과 합의점 도출하기

🛠️ **P – Problem (개선이 필요한 점)**
- 요즘 개발 속도가 너무 느려지는 것 같다. 하루 목표에 대해서도 자세하게 타임라인을 정해놓고 개발을 해야 빠르게 집중하는 자세를 가질 것 같다.

🔄 **T – Try (시도할 것)**
- 통합 테스트를 작성하여, 프론트엔드 분들 개발 일정에 차질이 없도록, 안전한 코드 개발하기


<br><br>
